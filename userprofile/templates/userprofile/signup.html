<!DOCTYPE html>
<html lang="en">

<head>
    <title>Vendor SignUp | ArtisanAfrique</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
          integrity="sha512-xLECL0OmdtzrVnEqOTGBnttVPtouMHOWPZwLwWgl9LOR/xriogXtkiVlKl4gMQWQ0OF1gV1ix6CjzZ5JN1vvYg=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
</head>

<body class="bg-white font-mono">
    <div class="container min-w-full mx-0">
        <div class="flex flex-col lg:flex-row">
            <div class="lg:w-1/2 bg-gray-900 p-0">
                <!-- Aesthetic picture goes here -->
                <img src="https://media.gettyimages.com/id/1401228241/photo/busy-market-street-in-lagos-nigeria-west-africa.jpg?s=612x612&w=0&k=20&c=aFPX9I9lZ_BzLpPQRg8fWORlbsbDD4_E5UWchjw1k1c=" alt="Aesthetic Picture" class="w-full h-screen object-cover">
            </div>
            <div class="lg:w-1/2 flex items-center justify-center bg-gray-100">
                <!-- Vendor Registration Form Starts here-->
                <div class="login-form bg-white shadow-md rounded-lg p-6 lg:w-3/4 xl:w-2/3">
                    <div class="flex mb-4">
                        <a href="{% url 'login_vendor' %}" id="loginLink" class="mr-4 mt-2 text-green-800 hover:text-green-900 font-bold">Log In</a>
                        <a href="{% url 'register_vendor' %}" id="signupLink" class="text-xl text-green-800 hover:text-green-900 mt-1 font-bold active">Sign Up</a>
                    </div>
                    <!-- Display error message -->
                    {% if error_message %}
                        <div class="mb-4 text-red-500 text-sm">
                            {{ error_message }}
                        </div>
                    {% endif %}
                    <!-- Registration Form Contents -->
                    <form method="post" action="{% url 'register_vendor' %}" id="registerForm" class="form-visible">
                        {% csrf_token %}
                        <div class="mb-4">
                            <label for="fullname" class="block text-gray-600 text-xs font-bold mb-1">Full Name</label>
                            <input type="text"
                                   class="bg-gray-200 appearance-none rounded-md w-full py-2 px-3 text-black-600 leading-tight focus:shadow-outline"
                                   id="fullname" name="fullname" oninput="checkForm()">
                        </div>
                        <div class="mb-4">
                            <label for="shopName" class="block text-gray-600 text-xs font-bold mb-1">Shop Name</label>
                            <input type="text"
                                   class="bg-gray-200 appearance-none rounded-md w-full py-2 px-3 text-black-600 leading-tight focus:shadow-outline"
                                   id="shopName" name="shopName" oninput="checkForm()">
                        </div>
                        <div class="mb-4">
                            <label for="email" class="block text-gray-600 text-xs font-bold mb-1">Email</label>
                            <input type="email"
                                   class="bg-gray-200 appearance-none rounded-md w-full py-2 px-3 text-black-600 leading-tight focus:shadow-outline"
                                   id="email" name="email" oninput="checkForm()">
                        </div>
                        <div class="mb-4">
                            <label for="phone" class="block text-gray-600 text-xs font-bold mb-1">Phone Number</label>
                            <input type="tel"
                                   class="bg-gray-200 appearance-none rounded-md w-full py-2 px-3 text-black-600 leading-tight focus:shadow-outline"
                                   id="phone" name="phone" oninput="checkForm()">
                        </div>
                        <div class="mb-4">
                            <label for="address" class="block text-gray-600 text-xs font-bold mb-1">Address</label>
                            <input type="text"
                                   class="bg-gray-200 appearance-none rounded-md w-full py-2 px-3 text-black-600 leading-tight focus:shadow-outline"
                                   id="address" name="address" oninput="checkForm()">
                        </div>
                        <div class="mb-4">
                            <label for="password" class="block text-gray-600 text-xs font-bold mb-1">Password</label>
                            <input type="password"
                                   class="bg-gray-200 appearance-none rounded-md w-full py-2 px-3 text-black-600 leading-tight focus:shadow-outline"
                                   id="password" name="password" oninput="checkForm()">
                        </div>
                        <div class="mb-2">
                            <label class="block text-gray-600 text-xs font-bold mb-1">Would you also like to be a customer?</label>
                            <input type="checkbox" id="isCustomer" name="isCustomer" class="mr-2">
                            <label for="isCustomer" class="text-gray-600 text-xs font-normal">Yes, I would like to be a customer</label>
                        </div>
                        <div class="text-right mb-2">
                            <a href="forgot" class="text-xs text-green-900 underline">Forgot password?</a>
                        </div>
                        <button type="submit" id="registerButton" disabled
                                class="bg-gray-300 hover:bg-gray-400 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline w-full">Register
                            Now
                        </button>
                        
                    </form>
                </div>
            </div>
        </div>
    </div>

    <style>
        .form-hidden {
            display: none;
        }

        .form-visible {
            display: block;
        }

        #signupLink.active::after {
            content: "";
            border-bottom: 3px solid rgb(0, 45, 0);
            display: block;
            width: 20px;
            border-radius: 15%;
            margin: 0 auto;
        }

        #loginLink.active::after {
            content: "";
            border-bottom: 3px solid rgb(0, 45, 0);
            display: block;
            width: 20px;
            border-radius: 15%;
            margin: 0 auto;
        }
        #registerButton {
        transition: background-color 0.3s ease;
    }

    </style>

    <script>
        function checkForm() {
            var fullname = document.getElementById("fullname").value;
            var shopName = document.getElementById("shopName").value;
            var email = document.getElementById("email").value;
            var phone = document.getElementById("phone").value;
            var address = document.getElementById("address").value;
            var password = document.getElementById("password").value;
            var isCustomer = document.getElementById("isCustomer").checked;
            var registerButton = document.getElementById("registerButton");

            // Regular expression for phone number format (10 digits)
            var phoneRegex = /^\d{11}$/;

            if (fullname.trim() !== "" && shopName.trim() !== "" && email.trim() !== "" && phoneRegex.test(phone) && address.trim() !== "" && password.trim().length >= 7) {
                registerButton.classList.remove("bg-gray-300", "hover:bg-gray-400");
                registerButton.classList.add("bg-green-700", "hover:bg-green-800");
                registerButton.disabled = false; // Enable the button
            } else {
                registerButton.classList.remove("bg-green-700", "hover:bg-green-800");
                registerButton.classList.add("bg-gray-300", "hover:bg-gray-400");
                registerButton.disabled = true; // Disable the button
            }
        }
    </script>
</body>

</html>
