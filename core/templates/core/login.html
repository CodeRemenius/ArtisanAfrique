<!DOCTYPE html>
<html lang="en">

<head>
    <title>Login | ArtisanAfrique</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
          integrity="sha512-xLECL0OmdtzrVnEqOTGBnttVPtouMHOWPZwLwWgl9LOR/xriogXtkiVlKl4gMQWQ0OF1gV1ix6CjzZ5JN1vvYg=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
</head>

<body class="bg-white font-mono">
    <div class="container min-w-full mx-0">
        <div class="flex flex-col lg:flex-row">
            <div class="lg:w-1/2 flex items-center justify-center bg-gray-100">
                <!-- Login Form Starts here-->
                <div class="login-form bg-white shadow-md rounded-lg p-6 lg:w-3/4 xl:w-2/3">

                    <div class="flex mb-4">
                        <a href="{% url 'login' %}" id="loginLink" class="mr-4 text-xl text-green-800 hover:text-green-900 font-bold active">Log In</a>
                        <a href="{% url 'sign_up' %}" id="signupLink" class="text-green-800 hover:text-green-900 mt-1 font-bold">Sign Up</a>
                    </div>
                    <!-- Display error message -->
                    {% if error_message %}
                        <div class="mb-4 text-red-500 text-sm">
                            {{ error_message }}
                        </div>
                    {% endif %}
                    <!-- Login Form Contents -->
                    <form method="post" action="{% url 'login' %}" id="loginForm" class="form-visible">
                        {% csrf_token %}
                        <div class="mb-4">
                            <label for="username" class="block text-gray-600 text-xs font-bold mb-1">Username</label>
                            <input type="text"
                                   class="bg-gray-200 appearance-none rounded-md w-full py-2 px-3 text-black-600 leading-tight focus:shadow-outline"
                                   id="username" name="username" oninput="checkForm()">
                        </div>
                        <div class="mb-2">
                            <label for="password" class="block text-gray-600 text-xs font-bold mb-1">Password</label>
                            <input type="password"
                                   class="bg-gray-200 appearance-none rounded-md w-full py-2 px-3 text-black-600 leading-tight focus:shadow-outline"
                                   id="password" name="password" oninput="checkForm()">
                        </div>
                        <div class="text-right mb-4">
                            <a href="forgot" class="text-xs text-green-900 underline">Forgot password?</a>
                        </div>
                        <button type="submit" id="loginButton" disabled
                                class="bg-gray-300 hover:bg-gray-400 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline w-full login-button">Login
                            Now
                        </button>
                        <div class="text-center my-2">
                            <p class="text-xs text-gray-600">By clicking Log in, you accept ArtisanAfrique's Terms of Service
                                and Privacy Policy</p>
                        </div>
                        <div class="flex items-center justify-center mt-4 my-2">
                            <hr class="w-1/4 border-black border-t-2 mr-2">
                            <span class="text-sm text-black uppercase">Or</span>
                            <hr class="w-1/4 border-black border-t-2 ml-2">
                        </div>
                        <button class="bg-green-800 hover:bg-green-900 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center mt-4 focus:outline-none focus:shadow-outline w-full">
                            <i class="fab fa-google mr-2"></i>
                            Login with Google
                        </button>
                    </form>
                </div>
            </div>
            <div class="lg:w-1/2 bg-gray-900 p-0">
                <!-- Aesthetic picture goes here -->
                <img src="https://media.gettyimages.com/id/1401228241/photo/busy-market-street-in-lagos-nigeria-west-africa.jpg?s=612x612&w=0&k=20&c=aFPX9I9lZ_BzLpPQRg8fWORlbsbDD4_E5UWchjw1k1c=" alt="Aesthetic Picture" class="w-full h-screen object-cover">
            </div>
        </div>
    </div>

    <style>
        .form-hidden {
            display: none;
        }

        .form-visible {
            display: block;
        }

        #signupLink.active::after {
            content: "";
            border-bottom: 3px solid rgb(0, 45, 0);
            display: block;
            width: 20px;
            border-radius: 15%;
            margin: 0 auto
        }

        #loginLink.active::after {
            content: "";
            border-bottom: 3px solid rgb(0, 45, 0);
            display: block;
            width: 20px;
            border-radius: 15%;
            margin: 0 auto;
        }
    .login-button {
        transition: background-color 0.3s ease;
    }

    </style>

<script>
    function checkForm() {
        var username = document.getElementById("username").value;
        var password = document.getElementById("password").value;
        var loginButton = document.getElementById("loginButton");

        if (username.trim() !== "" && password.trim() !== "") {
            loginButton.classList.remove("bg-gray-300", "hover:bg-gray-400");
            loginButton.classList.add("bg-green-700", "hover:bg-green-800");
            loginButton.disabled = false; // Enable the button
        } else {
            loginButton.classList.remove("bg-green-700", "hover:bg-green-800");
            loginButton.classList.add("bg-gray-300", "hover:bg-gray-400");
            loginButton.disabled = true; // Disable the button
        }
    }
</script>
</body>

</html>
